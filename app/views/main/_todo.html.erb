<li class="list-group-item">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">
        <%= todo.title%>
      </h5>
      <h6 class="card-subtitle mb-2 text-muted">
        <%= todo.deadline%>
      </h6>
      <p class="card-text">
        <%= todo.body%>
      </p>
      <%=form_with url:"/toggle/#{todo.id}", method: :patch do |f|%>
        <% if todo.completed %>
          <%= f.submit 'Mark Not Done', class:'btn btn-dark'%>
        <% else %>
          <%= f.submit :Completed, class:'btn btn-dark'%>
        <% end %>      
      <% end %>      
      <button class="mt-2 btn btn-dark" data-bs-toggle="modal" data-bs-target="#change_todo">
        Edit
      </button>
      <%=form_with url:"/delete_todo/#{todo.id}", method: :delete do |f|%>
        <%=f.submit :Delete, class:'mt-2 btn btn-dark'%>
      <% end %>
    </div>
  </div>            
</li>

<div class="modal fade" id='change_todo' tabindex="-1" aria-labelledby="change_todoLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLabel">Edit Todo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <%=form_with url:'/edit_todo', method: :patch do |f|%>
          <div class="mt-3 container w-50">
            <div class="mb-1">
              <%=f.label :title, :Todo, class:"form-label"%>
              <%= f.text_field :title, class:"form-control", placeholder:'Title of Todo', value: todo.title%>
            </div>
            <div class="mb-1">
              <%=f.label :body, :Details, class:"form-label"%>
              <%= f.text_area :body, class:"form-control", placeholder:'Deatils of Todo (OPTIONAL)', size:'30x3', value:todo.body%>
            </div>
            <div class="mb-1 w-50 m-auto">
              <%=f.label :deadline, :Deadline, class:'form-label' %>
              <%= f.datetime_local_field :deadline, value: todo.deadline %>
            </div>
            <div class="mb-1 w-50 m-auto">
              <%= f.hidden_field :id, value: todo.id %>
            </div>
            <%= f.submit :submit, class:'btn btn-dark mx-auto'%>
          </div>
        <%end%>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>